Starting fixed book generation script...
Loaded environment variables from .env file
User parameters: {'num_chapters': 5, 'min_chapter_length': 2000, 'min_scenes': 3, 'model': 'gpt-3.5-turbo-16k'}
WARNING: OpenAI API key not found in environment variables
Importing configuration...
Successfully imported config module
Getting configuration...
Successfully got configuration
Importing other modules...
Successfully imported all modules
Research enabled: True
Minimum chapter length: 2000 words
Using OpenAI model: gpt-3.5-turbo-16k
Creating agents...
Successfully created agents
Generating outline...
Successfully generated outline

Generated Outline:

Chapter 1: The Call to Duty
--------------------------------------------------
- Key Events: - Jeff's introduction as a loyal warrior and strategist on Caladan
- Jeff's first encounter with Paul Atreides and their initial bond
- Jeff's internal monologue reflecting on his loyalty and purpose in life
- Character Developments: - Jeff is established as a loyal and skilled warrior, dedicated to serving House Atreides.
- Jeff forms a bond with Paul Atreides, recognizing his potential and leadership qualities.
- Jeff begins to question his loyalty and purpose, contemplating the meaning of his role in the grand scheme of things.
- Setting: Caladan, the lush and verdant planet with rolling hills, mountains, and the Atreides ancestral castle.
- Tone: Serene and peaceful, with a sense of duty and loyalty.

Chapter 2: Shadows in the Desert
--------------------------------------------------
- Key Events: - The attack on Arrakis and the fall of House Atreides
- Jeff's escape and survival in the desert
- Jeff's encounter with the Fremen and his decision to join them
- Character Developments: - Jeff witnesses the devastating attack on Arrakis and experiences the loss of House Atreides.
- Jeff's survival instincts kick in as he navigates the treacherous desert and evades capture.
- Jeff's encounter with the Fremen introduces him to a new way of life and prompts him to reevaluate his loyalties.
- Setting: Arrakis, the harsh desert planet with sand dunes, rocky cliffs, and the city of Arrakeen.
- Tone: Tense and foreboding, with a sense of loss and adaptation.

Chapter 3: Beneath the Sands
--------------------------------------------------
- Key Events: - Jeff's training and integration into Fremen society
- Jeff's growing relationship with the Fremen and their acceptance of him
- Jeff's discovery of his hidden role in Paul's ascension
- Character Developments: - Jeff undergoes intense training to adapt to the harsh conditions and survival skills of the Fremen.
- Jeff forms bonds with Fremen individuals, gaining their trust and acceptance.
- Jeff uncovers his hidden role in Paul's ascension, realizing the significance of his presence in the grand scheme of things.
- Setting: The Fremen Sietch, an underground cave complex hidden beneath the desert, with interconnected chambers and a central communal fire pit.
- Tone: Mysterious and secretive, with a sense of belonging and self-discovery.

Chapter 4: Sands of Betrayal
--------------------------------------------------
- Key Events: - Jeff's internal conflict as he witnesses the consequences of Paul's actions
- Jeff's confrontation with Paul and their ideological clash
- Jeff's realization of the hidden costs of empire-building and his decision to act
- Character Developments: - Jeff grapples with the moral implications of Paul's actions and the toll it takes on the people.
- Jeff confronts Paul, challenging his decisions and questioning the righteousness of their cause.
- Jeff comes to a moment of realization, understanding the hidden costs of empire-building and making a difficult decision.
- Setting: Arrakeen, the capital city of Arrakis, with its labyrinthine streets, towering buildings, and the Imperial Palace.
- Tone: Intense and conflicted, with a sense of moral ambiguity and sacrifice.

Chapter 5: Shadows of the Past
--------------------------------------------------
- Key Events: - Jeff's final internal monologue reflecting on his journey and acceptance of his fate
- Jeff's final confrontation with Paul and the resolution of their relationship
- Jeff's ultimate fate and the conclusion of his story
- Character Developments: - Jeff reflects on his journey, coming to terms with his choices and accepting his fate.
- Jeff and Paul have a final confrontation, resolving their differences and finding closure.
- Jeff's ultimate fate is revealed, solidifying his place in history as the forgotten hero who stood at the center of the storm.
- Setting: Caladan, the lush planet with the Atreides ancestral castle, symbolizing Jeff's journey from loyalty to resolution.
- Tone: Reflective and bittersweet, with a sense of closure and acceptance.
Saved outline to book_output/outline.txt

Generating chapters individually...

==================== Chapter 1 ====================
Generating Chapter 1 using gpt-3.5-turbo-16k...
WARNING: Chapter 1 is shorter than required (875 words vs 2000 minimum)
Extending chapter to meet minimum length requirement...
Extended chapter length: 2485 words
Error generating Chapter 1: 'charmap' codec can't encode character '\u2713' in position 0: character maps to <undefined>
Traceback (most recent call last):
Error in chapter generation: 'charmap' codec can't encode character '\u2713' in position 137: character maps to <undefined>
Traceback (most recent call last):
Unhandled exception: 'charmap' codec can't encode character '\u2713' in position 137: character maps to <undefined>
Traceback (most recent call last):
